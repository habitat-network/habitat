profile: coverage.out
local-prefix: "github.com/habitat-network/habitat"

# Holds coverage thresholds percentages, values should be in range [0-100]
threshold:
  # The minimum coverage that each file should have
  file: 60
  # The minimum coverage that each package should have
  package: 70
  # The minimum total coverage project should have
  total: 70

# Holds regexp rules which will override thresholds for matched files or packages using their paths.
#
# First rule from this list that matches file or package is going to apply new threshold to it.
# If project has multiple rules that match same path, override rules should be listed in order from
# specific to more general rules.
override:

# Holds regexp rules which will exclude matched files or packages from coverage statistics
exclude:
  # Exclude files or packages matching their paths
  paths:
    - \/mocks\/.*?$
    - ^cmd # main.go's should be tested with integration tests, a separate pathway
    - ^internal\/.*\/server.go # Most of our servers are mostly pass throughs -- TODO, we should test them.
    - ^internal/telemetry # This is all setup, no logic
    - ^internal/utils
    - dummy_.*\.go
    - ^internal/oauthserver # This is mostly interface satisfying